# ðŸš€ Railway Deployment Guide

Follow these steps exactly to deploy your School Forum to Railway.

## Step 1: Install Git (if not installed)
```bash
# Check if git is installed
git --version

# If not installed, download from: https://git-scm.com/download/win
```

## Step 2: Initialize Git Repository
```bash
# Navigate to your project folder in terminal
cd "C:\path\to\your\project"

# Initialize git
git init

# Add all files
git add .

# Make first commit
git commit -m "Initial commit - School Forum project"
```

## Step 3: Create GitHub Repository
1. Go to https://github.com
2. Click "New repository"
3. Name it: `school-forum`
4. Make it Public
5. Don't initialize with README (we already have one)
6. Click "Create repository"

## Step 4: Push to GitHub
```bash
# Add GitHub remote (replace YOUR_USERNAME with your GitHub username)
git remote add origin https://github.com/YOUR_USERNAME/school-forum.git

# Push to GitHub
git branch -M main
git push -u origin main
```

## Step 5: Deploy to Railway

### 5.1 Create Railway Account
1. Go to https://railway.app
2. Sign up with GitHub account
3. Authorize Railway to access your repositories

### 5.2 Deploy Backend
1. Click "New Project"
2. Select "Deploy from GitHub repo"
3. Choose your `school-forum` repository
4. Railway will auto-detect Node.js project
5. Click "Deploy"

### 5.3 Add Database
1. In your Railway project dashboard
2. Click "New" â†’ "Database" â†’ "Add MySQL"
3. Wait for database to provision

### 5.4 Set Environment Variables
In Railway project settings â†’ Variables, add:

```
DB_HOST=mysql.railway.internal
DB_USER=root
DB_PASSWORD=[auto-generated by Railway]
DB_NAME=railway
DB_PORT=3306
JWT_SECRET=your-super-secret-jwt-key-here-make-it-long-and-random
NODE_ENV=production
PORT=5000
FRONTEND_URL=https://your-frontend-domain.railway.app
```

**Note:** Railway will auto-fill database credentials. Just add JWT_SECRET and FRONTEND_URL.

### 5.5 Deploy Frontend (Separate Service)
1. Click "New" in your project
2. Select "GitHub Repo" again
3. Choose same repository
4. In settings, set:
   - **Root Directory:** `frontend`
   - **Build Command:** `npm run build`
   - **Start Command:** `npx serve -s build -p $PORT`

### 5.6 Update Frontend Environment
In frontend service variables:
```
REACT_APP_API_URL=https://your-backend-domain.railway.app
```

## Step 6: Final Steps

### 6.1 Get Your URLs
- Backend URL: `https://your-backend-service.railway.app`
- Frontend URL: `https://your-frontend-service.railway.app`

### 6.2 Update CORS Settings
Update backend environment variable:
```
FRONTEND_URL=https://your-frontend-service.railway.app
```

### 6.3 Test Your Deployment
1. Visit your frontend URL
2. Try logging in with demo accounts:
   - Admin: admin@school.edu / AdminPass123!
   - Student: student@gmail.com / StudentPass123!

## ðŸŽ‰ You're Live!

Your School Forum is now hosted on Railway with:
- âœ… Automatic deployments on git push
- âœ… MySQL database
- âœ… SSL certificates
- âœ… Custom domains (if needed)

## ðŸ”§ Troubleshooting

**Build Fails?**
- Check Railway logs in dashboard
- Ensure all dependencies are in package.json

**Database Connection Issues?**
- Verify environment variables
- Check database is running in Railway dashboard

**CORS Errors?**
- Update FRONTEND_URL in backend environment
- Redeploy backend service

## ðŸ“ž Need Help?

If you get stuck, check:
1. Railway logs in dashboard
2. GitHub repository is public
3. All environment variables are set correctly

---

**Total Cost:** FREE (Railway free tier)
**Deployment Time:** ~10 minutes
**Auto-deploys:** Yes, on every git push